<!DOCTYPE html>
<html><head>
			
		<title>SQL</title>
		<base href="../../../">
		<meta id="root-path" root-path="../../../">

		<link rel="icon" sizes="96x96" href="https://publish-01.obsidian.md/access/f786db9fac45774fa4f0d8112e232d67/favicon-96x96.png">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<script src="https://code.iconify.design/iconify-icon/1.0.3/iconify-icon.min.js"></script>

			<link rel="stylesheet" href="lib/styles/obsidian-styles.css">
			<link rel="stylesheet" href="lib/styles/theme.css">
			<link rel="stylesheet" href="lib/styles/plugin-styles.css">
			<link rel="stylesheet" href="lib/styles/snippets.css">
			<style> body.css-settings-manager { --color-accent-rgb-d: 165, 119, 218; --active-line-accent: transparent; --h2-color: hsl(40.24,87.23%,63.14%); --h3-color: hsl(62.95,70.93%,33.73%); --h5-color: hsl(217.11,31.4%,47.45%); --h6-color: hsl(267.88,57.23%,66.08%); --file-line-width: 40rem; --font-editor-theme: 15; } body.theme-light.css-settings-manager { --italic-color: rgb(219,112,199); } body.theme-dark.css-settings-manager { --bold-color: rgb(95,155,231); --italic-color: rgb(95,155,231); } </style>

			
			<!-- Graph View Data -->
			<script>
			let nodes=
{"nodeCount":15,"linkCount":9,"radii":[7,6.75,6.75,6,4.75,4.75,4.75,4.75,4.75,3,3,3,3,3,3],"labels":["Introduction to Computer Networks","Stable Matching","Application Layer","Introduction & Relational Model","Basics of algorithm analysis","HTTP","Admin info","SQL","Admin info","Problem set 1","Admin info","ðŸ¥š Hatch","Image formation","Admin Info","Notes"],"paths":["notes/cs2105/notes/introduction-to-computer-networks.html","notes/cs3230/notes/stable-matching.html","notes/cs2105/notes/application-layer.html","notes/cs2102/notes/introduction-&-relational-model.html","notes/cs3230/notes/basics-of-algorithm-analysis.html","notes/cs2105/notes/http.html","notes/cs2105/admin-info.html","notes/cs2102/notes/sql.html","notes/cs2102/admin-info.html","notes/cs3230/assignments/problem-set-1.html","notes/cs3230/admin-info.html","notes/hatchnus/ðŸ¥š-hatch.html","notes/cs3241/notes/image-formation.html","notes/cs3241/admin-info.html","notes/laf2201/notes.html"],"linkSources":[8,7,6,2,5,0,0,4,1],"linkTargets":[3,3,0,0,2,0,2,1,1]};
			let attractionForce = 1;
			let linkLength = 10;
			let repulsionForce = 150;
			let centralForce = 3;
			let edgePruning = 100;
			</script>
			
<script type="module" src="lib/scripts/graph_view.js"></script>

<script src="lib/scripts/graph_wasm.js"></script>

<script src="lib/scripts/tinycolor.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js" integrity="sha512-Ch/O6kL8BqUwAfCF7Ie5SX1Hin+BJgYH4pNjRqXdTEqMsis1TUYg+j6nnI9uduPjGaj7DN4UKCZgpvoExt6dkw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="lib/scripts/webpage.js"></script>

			</head><body class="theme-dark mod-macos is-frameless is-hidden-frameless obsidian-app native-scrollbars is-translucent show-inline-title show-view-header css-settings-manager minimal-theme minimal-notion-dark minimal-default-light colorful-active links-int-on links-ext-on full-width-media minimal-folding minimal-readable minimal-light minimal-dark chart-default-width table-default-width img-default-width iframe-default-width map-default-width contextual-typography plugin-cm-typewriter-scroll plugin-cm-typewriter-scroll-zen sanctum-default-light sanctum-default-dark code-lines code-label code-border # h1-line default-marker-odd default-marker-even is-fullscreen" style="--zoom-factor:1; --accent-h:273; --accent-s:46%; --accent-l:54%; --font-text-size:13px; --line-width:50em; --line-width-adaptive:50em; --file-line-width:50em; --content-width:500em; --sidebar-width:25em; --collapse-arrow-size:0.4em; --tree-horizontal-spacing:1em; --tree-vertical-spacing:0.5em; --sidebar-margin:12px;"><div class="webpage-container"><div class="sidebar-left sidebar"><div class="sidebar-content"><div><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="tree-container file-tree mod-nav-indicator" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Y3S1</span><button class="clickable-icon collapse-tree-button is-collapsed"><iconify-icon icon="ph:arrows-in-line-horizontal-bold" width="18px" height="18px" rotate="90deg" color="currentColor"></iconify-icon></button></div><div class="tree-scroll-area"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="notes"><span class="tree-item-title">Notes</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="2"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="notes/cs2102"><span class="tree-item-title">CS2102</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="3"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="notes/cs2102/notes"><span class="tree-item-title">Notes</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs2102/notes/introduction-&amp;-relational-model.html"><span class="tree-item-title">Introduction &amp; Relational Model</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs2102/notes/sql.html"><span class="tree-item-title">SQL</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs2102/admin-info.html"><span class="tree-item-title">Admin info</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="2"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="notes/cs2105"><span class="tree-item-title">CS2105</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="3"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="notes/cs2105/notes"><span class="tree-item-title">Notes</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs2105/notes/application-layer.html"><span class="tree-item-title">Application Layer</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs2105/notes/http.html"><span class="tree-item-title">HTTP</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs2105/notes/introduction-to-computer-networks.html"><span class="tree-item-title">Introduction to Computer Networks</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs2105/admin-info.html"><span class="tree-item-title">Admin info</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="2"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="notes/cs3230"><span class="tree-item-title">CS3230</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="3"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="notes/cs3230/assignments"><span class="tree-item-title">Assignments</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs3230/assignments/problem-set-1.html"><span class="tree-item-title">Problem set 1</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="3"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="notes/cs3230/notes"><span class="tree-item-title">Notes</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs3230/notes/basics-of-algorithm-analysis.html"><span class="tree-item-title">Basics of algorithm analysis</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs3230/notes/stable-matching.html"><span class="tree-item-title">Stable Matching</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs3230/admin-info.html"><span class="tree-item-title">Admin info</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="2"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="notes/cs3241"><span class="tree-item-title">CS3241</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="3"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="notes/cs3241/notes"><span class="tree-item-title">Notes</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs3241/notes/image-formation.html"><span class="tree-item-title">Image formation</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="tree-item-link" href="notes/cs3241/admin-info.html"><span class="tree-item-title">Admin Info</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="2"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="notes/hatchnus"><span class="tree-item-title">HatchNUS</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="tree-item-link" href="notes/hatchnus/ðŸ¥š-hatch.html"><span class="tree-item-title">ðŸ¥š Hatch</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="2"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="notes/laf2201"><span class="tree-item-title">LAF2201</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="tree-item-link" href="notes/laf2201/notes.html"><span class="tree-item-title">Notes</span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div></div></div><div class="document-container"><div class="markdown-preview-view markdown-rendered node-insert-event is-readable-line-width allow-fold-headings show-indentation-guide allow-fold-lists" tabindex="-1" style="tab-size: 4;"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section" style="padding-bottom: ; padding-top: var(--file-margins); padding-right: var(--file-margins); padding-left: var(--file-margins); width: 100%; position: absolute;"><div class="markdown-preview-pusher" style="width: 1px; height: 0.1px; margin-bottom: 0px;"></div><div class="mod-header"></div><div class="tag-notes tag-cs2102 el-p" data-tag-name="p"><p><a href="#notes" class="tag" target="_blank" rel="noopener">#notes</a> <a href="#cs2102" class="tag" target="_blank" rel="noopener">#cs2102</a> </p></div><div data-callout-metadata="" data-callout-fold="" data-callout="quote" data-tag-name="div" class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="quote" class="callout"><div class="callout-title"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-quote"><path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"></path><path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"></path></svg></div><div class="callout-title-inner">In theoryâ€¦.</div></div><div class="callout-content">
<p>The relational model proposes to organise data in <a data-tooltip-position="top" aria-label="Introduction &amp; Relational Model > **Relation**" data-href="Introduction &amp; Relational Model#**Relation**" href="notes/cs2102/notes/introduction-&amp;-relational-model.html#**Relation**" class="internal-link" target="_self" rel="noopener">relations</a>. Mathematically, relations are subsets of the Cartesian product of the domains of their attributes.</p>
</div></div></div><div data-callout-metadata="" data-callout-fold="" data-callout="note" data-tag-name="div" class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout"><div class="callout-title"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-pencil"><line x1="18" y1="2" x2="22" y2="6"></line><path d="M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"></path></svg></div><div class="callout-title-inner">In practice</div></div><div class="callout-content">
<p>The RDMS organise data in <em>tables</em>, which has a name. Tables are a <em>multi-sets</em> of <strong>rows</strong> and <strong>records</strong>. Records have <em>fields</em> corresponding to the columns of the table. Columns or fields also have an <em>implicit position</em> indicated by the order in the corresponding <em>creation statement</em>.</p>
</div></div></div><div data-tag-name="hr" class="el-hr"><hr></div><div data-heading="Integrity constraints" data-tag-name="h1" class="el-h1"><h1 data-heading="Integrity constraints" id="Integrity_constraints">Integrity constraints</h1></div><div data-callout-metadata="" data-callout-fold="" data-callout="note" data-tag-name="div" class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout"><div class="callout-title"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-pencil"><line x1="18" y1="2" x2="22" y2="6"></line><path d="M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"></path></svg></div><div class="callout-title-inner">Definition</div></div><div class="callout-content">
<p>A <mark>consistent state</mark> of the database is a state which complies with the business rules as defined by the <em>structural constraints</em> and the <a data-tooltip-position="top" aria-label="Introduction &amp; Relational Model > Integrity constraints" data-href="Introduction &amp; Relational Model#Integrity constraints" href="notes/cs2102/notes/introduction-&amp;-relational-model.html#Integrity_constraints" class="internal-link" target="_self" rel="noopener">integrity constraints</a> in the schema.</p>
</div></div></div><div data-tag-name="p" class="el-p"><p>If an <em>integrity constraint</em> is violated by an operation or a transaction, the operation is <strong>aborted</strong> and <strong>rolled back</strong> and its changes are undone, otherwise, it is committed and its changes are effective for all users.</p></div><div data-tag-name="p" class="el-p"><p>There are <mark>five</mark> main kinds of integrity constraints in SQL:</p></div><div data-tag-name="pre" class="el-pre"><pre class="language-psql" tabindex="0"><code class="language-psql is-loaded">NOT NULL,
PRIMARY KEY,
UNIQUE,
FOREIGN KEY and
CHECK
</code><button class="copy-code-button">Copy</button></pre></div><div data-tag-name="hr" class="el-hr"><hr></div><div data-heading="Primary keys" data-tag-name="h2" class="el-h2"><h2 data-heading="Primary keys" id="Primary_keys" style="display: flex;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Primary keys</h2></div><div data-callout-metadata="" data-callout-fold="" data-callout="note" data-tag-name="div" class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout"><div class="callout-title"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-pencil"><line x1="18" y1="2" x2="22" y2="6"></line><path d="M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"></path></svg></div><div class="callout-title-inner">Definition</div></div><div class="callout-content">
<p>A <a data-tooltip-position="top" aria-label="Introduction &amp; Relational Model > Key constraints" data-href="Introduction &amp; Relational Model#Key constraints" href="notes/cs2102/notes/introduction-&amp;-relational-model.html#Key_constraints" class="internal-link" target="_self" rel="noopener">primary key</a> is a <mark>set</mark> of columns that uniquely identifies a record in the table. Each table has at most one primary key.</p>
</div></div></div><div data-callout-metadata="right +++++" data-callout-fold="" data-callout="aside" data-tag-name="div" class="el-div"><div data-callout-metadata="right +++++" data-callout-fold="" data-callout="aside" class="callout"><div class="callout-title"><div class="callout-icon"></div><div class="callout-title-inner">Aside</div></div><div class="callout-content">
<p>Since it is a set, there cannot be any duplicates.</p>
</div></div></div><div data-tag-name="p" class="el-p"><p>By its definition, primary key can be one column or a <em>combination</em> of columns. An instance of the table cannot have two records with the same value or combination of values in primary key columns and <mark>primary key column cannot contain a null value</mark>.</p></div><div data-tag-name="p" class="el-p"><p>Primary key is declared with the keyword <code>PRIMARY KEY</code>. In writing the schema, it is underlined.</p></div><div data-tag-name="pre" class="el-pre"><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> customers <span class="token punctuation">(</span>
	first_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	last_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	dob <span class="token keyword">DATE</span><span class="token punctuation">,</span>
	since <span class="token keyword">DATE</span><span class="token punctuation">,</span>
	customerid <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
	country <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div data-tag-name="p" class="el-p"><p>The primary key constraint prevents any operation or transaction that violates the constraint, for instance, inserting another customer withe the same <code>customerid</code>. The operation is aborted and rolled back.</p></div><div data-callout-metadata="" data-callout-fold="" data-callout="note" data-tag-name="div" class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout"><div class="callout-title"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-pencil"><line x1="18" y1="2" x2="22" y2="6"></line><path d="M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"></path></svg></div><div class="callout-title-inner">Composite primary keys</div></div><div class="callout-content">
<p>Primary keys can be composite and is declared after row declarations.</p>
</div></div></div><div data-tag-name="pre" class="el-pre"><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> games <span class="token punctuation">(</span>
	name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	version <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	price <span class="token keyword">NUMERIC</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
	<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> version<span class="token punctuation">)</span>	
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div data-tag-name="p" class="el-p"><p><mark>Not null</mark> constraint guarantees that no value of the corresponding column in any record of the table can be set to null. A not null constraint is always declared as a row constraint. When it is explicit, it is declared with the keyword <code>NOT NULL</code>.</p></div><div data-tag-name="p" class="el-p"><p>Insertion of a <code>null</code> value will cause the operation to abort and roll back.</p></div><div data-tag-name="p" class="el-p"><p>Alternatively, set a default value at table creation time.</p></div><div data-heading="Unique" data-tag-name="h2" class="el-h2"><h2 data-heading="Unique" id="Unique" style="display: flex;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Unique</h2></div><div data-callout-metadata="" data-callout-fold="" data-callout="note" data-tag-name="div" class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout"><div class="callout-title"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-pencil"><line x1="18" y1="2" x2="22" y2="6"></line><path d="M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"></path></svg></div><div class="callout-title-inner">Definition</div></div><div class="callout-content">
<p>A unique constraint on a column or a combination of columns guarantees the table cannot contain 2 records with the same value in the corresponding column or combination of columns.</p>
</div></div></div><div data-tag-name="pre" class="el-pre"><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> customers <span class="token punctuation">(</span>
    first_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
    last_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
    email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">,</span>
    dob <span class="token keyword">DATE</span><span class="token punctuation">,</span>
    since <span class="token keyword">DATE</span><span class="token punctuation">,</span>
    customerid <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
    country <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
    <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span> <span class="token keyword">first</span><span class="token punctuation">.</span>name <span class="token punctuation">,</span> <span class="token keyword">last</span><span class="token punctuation">.</span>name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div data-tag-name="p" class="el-p"><p>In this example, <code>customers</code>â€˜ <code>email</code> must be unique and a <mark>combination</mark> of <code>first_name</code> and <code>last_name</code> must be unique <strong>(VERY UNLIKELY)</strong>.</p></div><div data-callout-metadata="" data-callout-fold="" data-callout="caution" data-tag-name="div" class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="caution" class="callout"><div class="callout-title"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-alert-triangle"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg></div><div class="callout-title-inner">Uniqueness</div></div><div class="callout-content">
<p>This is similar to primary key constraints except that it <em>does allow <code>null</code> values</em>.</p>
</div></div></div><div data-heading="Foreign key" data-tag-name="h2" class="el-h2"><h2 data-heading="Foreign key" id="Foreign_key" style="display: flex;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Foreign key</h2></div><div data-callout-metadata="" data-callout-fold="" data-callout="note" data-tag-name="div" class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout"><div class="callout-title"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-pencil"><line x1="18" y1="2" x2="22" y2="6"></line><path d="M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"></path></svg></div><div class="callout-title-inner">Definition</div></div><div class="callout-content">
<p>A foreign key constraint enforces <em>referential integrity</em>. The values in the column for which the constraint is declared must exist in the corresponding columns of the referenced table.</p>
</div></div></div><div data-tag-name="p" class="el-p"><p>The <em>referenced columns</em> are usually required to be the <strong>primary key</strong> of the <em>referenced table</em>.</p></div><div data-tag-name="pre" class="el-pre"><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> downloads <span class="token punctuation">(</span>  
	customerid <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> customers <span class="token punctuation">(</span> customerid <span class="token punctuation">)</span><span class="token punctuation">,</span>
	name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>  
	version <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>  
	<span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> version<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> games<span class="token punctuation">(</span>name<span class="token punctuation">,</span> version<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div data-tag-name="p" class="el-p"><p>A foreign key is declared using <code>REFERENCES</code> as a row constraint, and the <code>FOREIGN KEY</code> and <code>REFERENCES</code> as a table constraint. In the example above, the customer identification number and the combination of name and version of the game she downloaded as recorded in the <code>downloads</code> table must correspond to an existing customer and an existing game which must be the corresponding primary keys, <code>customerid</code> in the customers table and the combination of <code>name</code> and <code>version</code> in the <code>games</code> table.</p></div><div data-heading="Check" data-tag-name="h2" class="el-h2"><h2 data-heading="Check" id="Check" style="display: flex;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Check</h2></div><div data-callout-metadata="" data-callout-fold="" data-callout="note" data-tag-name="div" class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout"><div class="callout-title"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-pencil"><line x1="18" y1="2" x2="22" y2="6"></line><path d="M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"></path></svg></div><div class="callout-title-inner">Definition</div></div><div class="callout-content">
<p>A <code>check</code> constraint enforces any other condition that can be expressed in SQL. A check constraint is declared as a row or a table constraint with the <code>CHECK</code> keyword followed by the SQL condition in parenthesis.</p>
</div></div></div><div data-tag-name="pre" class="el-pre"><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> games <span class="token punctuation">(</span>
	name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>  
	version <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>  
	price <span class="token keyword">NUMERIC</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>price <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div data-tag-name="p" class="el-p"><p>In this example, <code>UPDATE games SET price = price - 10</code> will result in <em>negative</em> prices. This operation is aborted and rolled back.</p></div><div data-tag-name="p" class="el-p"><p><mark>Assertion</mark>: Checks outside the table </p></div><div data-tag-name="hr" class="el-hr"><hr></div><div data-heading="Update" data-tag-name="h2" class="el-h2"><h2 data-heading="Update" id="Update" style="display: flex;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Update</h2></div><div data-callout-metadata="" data-callout-fold="" data-callout="caution" data-tag-name="div" class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="caution" class="callout"><div class="callout-title"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-alert-triangle"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg></div><div class="callout-title-inner">What happens when a record in a table is updated or deleted?</div></div><div class="callout-content">
<p>The record may no longer point to a valid key or wrong key from either the table that is referenced or the referencing table.</p>
</div></div></div><div data-callout-metadata="right +++++" data-callout-fold="" data-callout="aside" data-tag-name="div" class="el-div"><div data-callout-metadata="right +++++" data-callout-fold="" data-callout="aside" class="callout"><div class="callout-title"><div class="callout-icon"></div><div class="callout-title-inner">Aside</div></div><div class="callout-content">
<div data-callout-metadata="" data-callout-fold="" data-callout="quote" class="callout"><div class="callout-title"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-quote"><path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"></path><path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"></path></svg></div><div class="callout-title-inner">Quote</div></div><div class="callout-content">
<p>Consider all the possible ways to violate the integrity constraints in the code.</p>
</div></div>
</div></div></div><div data-tag-name="p" class="el-p"><p>The annotations <code>ON UPDATE</code> or <code>ON DELETE</code> can be initialised to handle delete and update operations.</p></div><div data-tag-name="pre" class="el-pre"><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> downloads <span class="token punctuation">(</span>  
	customerid <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> customers <span class="token punctuation">(</span> customerid <span class="token punctuation">)</span>
		<span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CASCADE</span>
		<span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span><span class="token punctuation">,</span>
	name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>  
	version <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>  
	<span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> version<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> games<span class="token punctuation">(</span>name<span class="token punctuation">,</span> version<span class="token punctuation">)</span>
		<span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CASCADE</span>
		<span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div data-tag-name="p" class="el-p"><p><code>ON UPDATE CASCADE</code> â€” If a record with the <code>customerid</code> is deleted, delete the record with <code>customerid</code> in <code>customers</code></p></div><div data-tag-name="p" class="el-p"><p>They are powerful mechanisms that can result in chain reactions when they are chains of foreign key dependencies.</p></div><div data-heading="View" data-tag-name="h2" class="el-h2"><h2 data-heading="View" id="View" style="display: flex;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>View</h2></div><div data-tag-name="pre" class="el-pre"><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> singapore_customers <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">WHERE</span> country<span class="token operator">=</span><span class="token string">'Singapore'</span>
</code><button class="copy-code-button">Copy</button></pre></div><div data-tag-name="p" class="el-p"><p>Views create a virtual table instead of <em>creating</em> a table of Singapore customers.<br>
Note that a virtual table is better than creating the table as it is updated automatically. However, when a table is created, we need to define triggers and constraints.</p></div><div class="mod-footer"></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-content"><span class="sidebar-section-header">Interactive Graph</span><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-arrow-up-right"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" width="512px" height="512px"></canvas>
		</div>
		</div><div class="tree-container outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button"><iconify-icon icon="ph:arrows-in-line-horizontal-bold" width="18px" height="18px" rotate="90deg" color="currentColor"></iconify-icon></button></div><div class="tree-scroll-area"><div class="tree-item mod-tree-heading" data-depth="1"><div class="tree-item-contents"><a class="tree-item-link" href="#Integrity_constraints"><span class="tree-item-title">Integrity constraints</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-heading" data-depth="2"><div class="tree-item-contents"><a class="tree-item-link" href="#Primary_keys"><span class="tree-item-title">Primary keys</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-heading" data-depth="2"><div class="tree-item-contents"><a class="tree-item-link" href="#Unique"><span class="tree-item-title">Unique</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-heading" data-depth="2"><div class="tree-item-contents"><a class="tree-item-link" href="#Foreign_key"><span class="tree-item-title">Foreign key</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-heading" data-depth="2"><div class="tree-item-contents"><a class="tree-item-link" href="#Check"><span class="tree-item-title">Check</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-heading" data-depth="2"><div class="tree-item-contents"><a class="tree-item-link" href="#Update"><span class="tree-item-title">Update</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-heading" data-depth="2"><div class="tree-item-contents"><a class="tree-item-link" href="#View"><span class="tree-item-title">View</span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div></div></body></html>